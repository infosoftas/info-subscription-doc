.. _changelog-r59:

***********************
Release June 28th 2019
***********************
The following changes were rolled out to production on June 28th 2019

API and Backend
===============
The following new features and improvements are now available in the API and the backend

* Support for getting the latest assigned number in a sequence (helper methods for Invoice and Subscriber sequences will be forthcoming)
* Support for cancelling subscriptions while they are running instead of only at the end.
* Organization Prefix for External Invoice Identifier generation is now optional (as it should have been all along).
* Fixed an issue where Invoices generated by the billing engine would only have the date and not the date and time for subscription periods
* The billing engine now omits the External Organization Identifier on Invoices if no organization number is set, previously it built one with a blank value.
* Extended reporting with a value date for payments, and tax information
* CreditNotes no longer contain a `CreditedOn` property
* Filtering on CreditNote dates now uses the credit notes issuedate instead of the original invoice issue date
* Fixed an error where importing payments from OCR (NETS Norway) would pick the wrong date for the payment.
* Added API for calculating how the next subscription would look like if it was renewed `now`
* Added Reminder document type and API, similar to Invoice and Credit Note. Issued whenever a reminder demand is generated.
* Added backend and API support for Enterprise Plans and related Consolidated Billing. *Preview Feature*
* Removed "hack" for supporting old style customer/subscriber creation for new orders. There are no longer any such old style implementations!
* Payment Demands now have provider type along with payment type (PayEx, Dibs, NetAxept etc)
* It is no longer mandatory to assign an External Id to new Subscribers.
* Added support for crediting the first payment demand (the one related to an order)
* Added support for deleting draft invoices.
* Fixed an issue where draft invoices were not removed when cancelling a subscription.
* Fixed an issue where Arvato invoice and credit files would be generated with the wrong content or not at all.
* Fixed an issue where chaining would lead to a subsequent subscription having price 0.


Client
======
The following new features and improvements are now available in the client

* The merchant client now includes an option for pausing subscriptions. *Preview Feature*
* Extended the built in salesposter with options for showing/hiding Social Connectors
* Changed salesposter default text
* Fixed an issue where the salesposter would insist on adding http:// to the redirect URL
* The merchant client now has support for creating Enterprise Plans. Refer to the user docs on how this works. *Preview Feature*
* Fixed an issue where the salesposter would only display error messages in Norwegian (and added related translations)
* Fixed an issue where the credit report fails to retreive valid data.
* Fixed a redirect bug with query parameters

Refer to the developer and user documentation for details on the various features.

Known Issues
============

* External Invoice Identifiers may be generated in a way that exceeds the allowed length when Subscriber Number and Invoice Number lengths exceeds the max length.